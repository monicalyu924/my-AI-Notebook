1. 项目/功能概述 (Overview)
开发一个 AI 驱动的、支持云端同步的 Web 记事本应用。用户可以随时随地记录和管理笔记，并通过集成的 AI 功能（由用户自己的 OpenRouter API Key 驱动）来提升内容创作、总结和信息检索的效率，整体界面风格追求简洁、高效的 Notion 风格。

2. 核心功能点 (Core Features)
用户认证系统:

用户可以注册新账号和登录。

系统将安全地存储用户的个人信息和 API Key。

笔记管理 (CRUD):

创建 (Create): 用户可以创建新的笔记。

读取 (Read): 用户可以查看自己的笔记列表和单篇笔记的完整内容。

更新 (Update): 用户可以编辑和保存已有的笔记。

删除 (Delete): 用户可以删除不需要的笔记。

AI 助手功能:

内容生成与优化: 选中一段文本，可以进行续写、润色、翻译或改变语气。

总结与提炼: 对整篇笔记一键生成内容摘要。

智能问答: 可以针对当前笔记内容进行提问，AI 将基于笔记内容作答。

自动化整理: AI 自动为当前笔记生成合适的标题和标签 (Tags)。

个性化设置:

用户拥有一个独立的“设置”页面。

可以在设置页面中输入、更新和保存自己的 OpenRouter API Key。

3. 技术规格 (Technical Specifications)
前端 (Frontend)
页面/组件 (Pages/Components):

LoginPage / RegisterPage: 用于用户登录和注册的独立页面。

MainAppPage (主应用页): 这是核心界面，采用三栏布局：

Sidebar (侧边栏 - 第1栏): 显示文件夹、标签或特殊视图（如“收藏”）。

NoteList (笔记列表 - 第2栏): 展示当前选定文件夹/标签下的所有笔记标题和摘要。

Editor (编辑器 - 第3栏): 主要的笔记编写区域，支持 Markdown 或富文本。

AIAssistantPanel (AI 助手面板): 一个浮动或侧边弹出的窗口，用于显示 AI 功能的操作按钮和返回结果。

SettingsPage: 用于管理用户账户和 API Key。

用户流程 (User Flow) & 数据交互 (Data Interaction): (保持不变)

后端 (Backend)
API 接口 (API Endpoints) & 数据模型 (Data Models): (保持不变)

4. 技术栈建议 (Tech Stack Suggestion)
对于初学者，我推荐一个现代化且相对容易上手的组合：

前端: React (使用 Vite 创建项目) + Tailwind CSS (用于快速构建 Notion 风格的界面)。

后端: Python + FastAPI (比 Flask 更现代，自带 API 文档，性能也更好)。

数据库: Supabase。它不仅提供了一个免费的 PostgreSQL 数据库，还内置了用户认证功能，可以极大简化你的开发工作。

部署: Vercel (用于部署前端) 和 Render (用于部署后端和数据库)，它们都有很好的免费套餐。

5. 开发步骤建议 (Development Steps)
我们将首先聚焦于完成 V1.0 的核心功能：

【后端】第一步：环境搭建与用户系统

【前端】第二步：搭建基本框架

【前后端】第三步：打通登录与笔记展示

【前端】第四步：完善编辑器

【前后端】第五步：实现核心 AI 功能

【前后端】第六步：完成设置页面

【收尾】第七步：润色与部署

6. V2.0 进阶功能规划 (Advanced Features Roadmap)
在完成上述核心功能后，我们将按以下规划，分模块增强应用能力。

模块一：AI 工作流增强
功能 1.1：模板化 AI 指令 (AI Templates)

目标: 允许用户创建、保存和管理自己常用的 AI 指令模板（Prompts），实现一键执行复杂任务。

技术实现: 需要为用户模板新增数据表和配套的 API 接口。

功能 1.2：关联笔记推荐 (Related Notes Suggestion)

目标: AI 自动分析当前笔记内容，并推荐知识库中其他相关的笔记。

技术实现: 需要引入向量数据库，在笔记创建/更新时生成文本嵌入 (Embeddings)，并通过相似度搜索来实现推荐。

功能 1.3：多模态支持 (Multi-modal Input)

目标: 允许上传图片或音频，并让 AI 理解这些非文本内容。

技术实现: 需要集成对象存储服务 (如 S3) 和支持多模态的 AI 模型 API。

模块二：用户体验与效率提升
功能 2.1：全局命令面板 (Command Palette)

目标: 实现 Ctrl/Cmd + K 快捷键，快速搜索笔记、执行命令。

技术实现: 前端需要一个全局状态管理的模态框组件，并可能需要后端提供一个优化的全文搜索 API。

功能 2.2：双向链接 (Bi-directional Linking)

目标: 支持 [[笔记标题]] 语法来创建笔记间的链接，并自动显示反向链接。

技术实现: 需要升级编辑器以解析该语法，并在后端增加一个数据表来记录笔记间的链接关系。

功能 2.3：版本历史 (Version History)

目标: 自动保存笔记的修改历史，允许用户随时恢复到旧版本。

技术实现: 后端需要在每次保存笔记时，在专门的“历史记录表”中创建一个快照。