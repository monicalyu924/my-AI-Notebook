# æœ¬åœ°å¼€å‘æŒ‡å—

> åœ¨æ‚¨çš„ç”µè„‘ä¸Šå¼€å‘å’Œæ‰©å±•AIè®°äº‹æœ¬åº”ç”¨

## ğŸ¯ ä»€ä¹ˆæ˜¯"æœ¬åœ°å¼€å‘"ï¼Ÿ

**ç®€å•ç†è§£**: åœ¨æ‚¨çš„Macç”µè„‘ä¸Šè¿è¡Œå®Œæ•´çš„åº”ç”¨ï¼Œå°±åƒç”¨æˆ·ä½¿ç”¨çœŸå®äº§å“ä¸€æ ·ï¼Œä½†æ‚¨å¯ä»¥éšæ—¶ä¿®æ”¹ä»£ç å¹¶ç«‹å³çœ‹åˆ°æ•ˆæœã€‚

### å½“å‰æ¶æ„

```
æ‚¨çš„Mac
â”œâ”€ åç«¯æœåŠ¡å™¨ (localhost:8000)
â”‚  â””â”€ è¿æ¥åˆ° â†’ Supabaseäº‘æ•°æ®åº“ (çœŸå®æ•°æ®)
â”‚
â””â”€ å‰ç«¯åº”ç”¨ (localhost:5173)
   â””â”€ è°ƒç”¨ â†’ æœ¬åœ°åç«¯API
```

**å…³é”®ç‚¹**:
- âœ… ä»£ç åœ¨æœ¬åœ°è¿è¡Œ
- âœ… æ•°æ®åœ¨äº‘ç«¯Supabase
- âœ… ä¿®æ”¹ä»£ç ååˆ·æ–°å³å¯çœ‹åˆ°æ•ˆæœ
- âœ… æ— éœ€éƒ¨ç½²åˆ°æœåŠ¡å™¨

---

## ğŸš€ æ‚¨å¯ä»¥å¼€å‘ä»€ä¹ˆï¼Ÿ

### 1. åŠŸèƒ½å¢å¼ºç±»

#### ğŸ“ ç¬”è®°ç›¸å…³åŠŸèƒ½
| åŠŸèƒ½ | éš¾åº¦ | é¢„è®¡æ—¶é—´ | æ–‡ä»¶ä½ç½® |
|------|------|---------|---------|
| ç¬”è®°ç½®é¡¶ | â­ | 30åˆ†é’Ÿ | frontend/components/notes/, backend/routers/notes_router.py |
| ç¬”è®°åˆ†äº«é“¾æ¥ | â­â­ | 1å°æ—¶ | å‰åç«¯é…åˆ |
| ç¬”è®°ç‰ˆæœ¬å†å² | â­â­â­ | 2å°æ—¶ | éœ€è¦æ•°æ®åº“è¡¨ |
| ç¬”è®°æ¨¡æ¿ | â­â­ | 1å°æ—¶ | frontend/components/notes/ |
| æ‰¹é‡æ“ä½œ | â­â­ | 1å°æ—¶ | frontend/components/notes/ |

#### ğŸ” æœç´¢å¢å¼º
| åŠŸèƒ½ | éš¾åº¦ | é¢„è®¡æ—¶é—´ |
|------|------|---------|
| é«˜çº§ç­›é€‰ | â­ | 30åˆ†é’Ÿ |
| æœç´¢å†å² | â­ | 30åˆ†é’Ÿ |
| ä¿å­˜æœç´¢æ¡ä»¶ | â­â­ | 1å°æ—¶ |
| å…¨æ–‡æœç´¢ä¼˜åŒ– | â­â­â­ | 2å°æ—¶ |

#### ğŸ¨ UI/UXä¼˜åŒ–
| åŠŸèƒ½ | éš¾åº¦ | é¢„è®¡æ—¶é—´ |
|------|------|---------|
| æš—è‰²æ¨¡å¼ | â­â­ | 1å°æ—¶ |
| è‡ªå®šä¹‰ä¸»é¢˜é¢œè‰² | â­â­ | 1å°æ—¶ |
| å¸ƒå±€è°ƒæ•´ | â­ | 30åˆ†é’Ÿ |
| å“åº”å¼ä¼˜åŒ– | â­â­ | 1å°æ—¶ |

#### ğŸ¤– AIåŠŸèƒ½
| åŠŸèƒ½ | éš¾åº¦ | é¢„è®¡æ—¶é—´ |
|------|------|---------|
| ç¬”è®°æ‘˜è¦ç”Ÿæˆ | â­â­ | 1å°æ—¶ |
| æ™ºèƒ½æ¨èç›¸å…³ç¬”è®° | â­â­â­ | 2å°æ—¶ |
| AIç»­å†™ | â­â­ | 1å°æ—¶ |
| è¯­æ³•æ£€æŸ¥ | â­â­â­ | 2å°æ—¶ |

---

### 2. æ€§èƒ½ä¼˜åŒ–ç±»

| ä¼˜åŒ–é¡¹ | å½±å“ | éš¾åº¦ | é¢„è®¡æ—¶é—´ |
|--------|------|------|---------|
| è™šæ‹Ÿæ»šåŠ¨ | å¤§åˆ—è¡¨æ€§èƒ½ | â­â­ | 1å°æ—¶ |
| å›¾ç‰‡æ‡’åŠ è½½ | åŠ è½½é€Ÿåº¦ | â­ | 30åˆ†é’Ÿ |
| APIå“åº”ç¼“å­˜ | å‡å°‘è¯·æ±‚ | â­â­ | 1å°æ—¶ |
| ä»£ç åˆ†å‰² | é¦–å±é€Ÿåº¦ | â­â­â­ | 2å°æ—¶ |

---

## ğŸ“š åˆšåˆšå®Œæˆçš„ç¤ºä¾‹ï¼šå­—æ•°ç»Ÿè®¡

### æˆ‘ä¸ºæ‚¨æ·»åŠ äº†ä¸€ä¸ªå®Œæ•´çš„åŠŸèƒ½ç¤ºä¾‹

**æ–°åŠŸèƒ½**: å®æ—¶å­—æ•°ç»Ÿè®¡
**ä½ç½®**: ç¼–è¾‘å™¨ä¸‹æ–¹
**åŠŸèƒ½**: æ˜¾ç¤ºæ€»å­—æ•°ã€å­—ç¬¦æ•°ã€ä¸­è‹±æ–‡ç»Ÿè®¡ã€é¢„è®¡é˜…è¯»æ—¶é—´

#### æŸ¥çœ‹æ•ˆæœ

1. **æ‰“å¼€æµè§ˆå™¨**: http://localhost:5173
2. **ç™»å½•è´¦å·**: supabase_test@example.com / test123456
3. **æ‰“å¼€ä»»æ„ç¬”è®°**
4. **çœ‹åˆ°å­—æ•°ç»Ÿè®¡**: åœ¨ç¼–è¾‘å™¨ä¸‹æ–¹ä¼šæ˜¾ç¤ºå®æ—¶ç»Ÿè®¡

#### ä»£ç è¯´æ˜

**æ–°å¢æ–‡ä»¶**:
- `frontend/src/components/editor/WordCounter.jsx` (æ–°ç»„ä»¶)

**ä¿®æ”¹æ–‡ä»¶**:
- `frontend/src/components/editor/Editor.jsx` (é›†æˆç»„ä»¶)

**æ ¸å¿ƒä»£ç **:
```javascript
// WordCounter.jsx - æ™ºèƒ½å­—æ•°ç»Ÿè®¡
- æ”¯æŒä¸­è‹±æ–‡æ··åˆç»Ÿè®¡
- å®æ—¶æ›´æ–°(éšç€è¾“å…¥è‡ªåŠ¨å˜åŒ–)
- æ˜¾ç¤ºé¢„è®¡é˜…è¯»æ—¶é—´
- æ¼‚äº®çš„UIè®¾è®¡
```

---

## ğŸ› ï¸ å¼€å‘å·¥ä½œæµ

### å…¸å‹çš„å¼€å‘æµç¨‹

```
1. ğŸ’¡ æƒ³æ³•
   â†“
2. ğŸ“ è®¡åˆ’å®ç°
   â†“
3. ğŸ’» ç¼–å†™ä»£ç 
   â†“
4. ğŸ”„ åˆ·æ–°æµè§ˆå™¨
   â†“
5. âœ… æµ‹è¯•åŠŸèƒ½
   â†“
6. ğŸ› å‘ç°é—®é¢˜ â†’ å›åˆ°æ­¥éª¤3
   â†“
7. ğŸ‰ åŠŸèƒ½å®Œæˆ
```

### å®é™…æ“ä½œæ­¥éª¤

#### æ·»åŠ å‰ç«¯åŠŸèƒ½
```bash
# 1. åˆ›å»ºæ–°ç»„ä»¶
cd frontend/src/components
mkdir my-feature
touch my-feature/MyFeature.jsx

# 2. ç¼–å†™ç»„ä»¶ä»£ç 
code my-feature/MyFeature.jsx

# 3. åœ¨çˆ¶ç»„ä»¶ä¸­å¼•å…¥
# ç¼–è¾‘å¯¹åº”çš„é¡µé¢æ–‡ä»¶ï¼Œæ·»åŠ  import å’Œä½¿ç”¨

# 4. ä¿å­˜æ–‡ä»¶
# Viteä¼šè‡ªåŠ¨çƒ­æ›´æ–°ï¼Œæ— éœ€æ‰‹åŠ¨åˆ·æ–°
```

#### æ·»åŠ åç«¯API
```bash
# 1. åˆ›å»ºæˆ–ä¿®æ”¹è·¯ç”±
cd backend/routers
code my_router.py

# 2. æ·»åŠ APIç«¯ç‚¹
@router.get("/my-endpoint")
async def my_function():
    return {"data": "..."}

# 3. åœ¨main.pyä¸­æ³¨å†Œè·¯ç”±
# app.include_router(my_router.router)

# 4. é‡å¯åç«¯æœåŠ¡
# Ctrl+C åœæ­¢ï¼Œç„¶å python main.py é‡å¯
```

---

## ğŸ“ å­¦ä¹ è·¯å¾„

### åˆå­¦è€… (åˆšæ¥è§¦é¡¹ç›®)

**ç¬¬1å‘¨: ç†Ÿæ‚‰ä»£ç ç»“æ„**
- [ ] æµè§ˆé¡¹ç›®ç›®å½•ç»“æ„
- [ ] ç†è§£å‰åç«¯åˆ†ç¦»æ¶æ„
- [ ] æŸ¥çœ‹å‡ ä¸ªæ ¸å¿ƒç»„ä»¶çš„ä»£ç 
- [ ] å°è¯•ä¿®æ”¹ç®€å•çš„æ–‡æœ¬æˆ–æ ·å¼

**ç¬¬2å‘¨: å°åŠŸèƒ½ä¿®æ”¹**
- [ ] ä¿®æ”¹UIé¢œè‰²æˆ–å¸ƒå±€
- [ ] æ·»åŠ ä¸€ä¸ªæ–°æŒ‰é’®
- [ ] ä¿®æ”¹ç°æœ‰åŠŸèƒ½çš„æ–‡æ¡ˆ
- [ ] è°ƒæ•´ç»„ä»¶é—´è·æˆ–å¤§å°

**ç¬¬3å‘¨: æ–°åŠŸèƒ½å¼€å‘**
- [ ] æ·»åŠ ä¸€ä¸ªä¸éœ€è¦åç«¯çš„çº¯å‰ç«¯åŠŸèƒ½
- [ ] ä¾‹å¦‚ï¼šç¬”è®°æ’åºæ–¹å¼ã€ç­›é€‰å™¨ã€å¿«æ·é”®

### è¿›é˜¶å¼€å‘è€… (æœ‰React/Pythonç»éªŒ)

**ç«‹å³å¯åšçš„ä»»åŠ¡**
- [ ] æ·»åŠ ç¬”è®°ç½®é¡¶åŠŸèƒ½
- [ ] å®ç°ç¬”è®°å¯¼å‡º(PDF/Markdown)
- [ ] æ·»åŠ ç¬”è®°ç»Ÿè®¡å›¾è¡¨
- [ ] å®ç°æ ‡ç­¾ç®¡ç†é¡µé¢
- [ ] æ·»åŠ æœç´¢å†å²

---

## ğŸ’¡ æ¨èçš„ç¬¬ä¸€ä¸ªä»»åŠ¡

### ä»»åŠ¡: æ·»åŠ "ç¬”è®°ç½®é¡¶"åŠŸèƒ½

**ç›®æ ‡**: è®©ç”¨æˆ·å¯ä»¥å°†é‡è¦ç¬”è®°ç½®é¡¶æ˜¾ç¤º

#### å‰ç«¯éƒ¨åˆ† (30åˆ†é’Ÿ)

**æ­¥éª¤1: æ·»åŠ ç½®é¡¶æŒ‰é’®**
```jsx
// frontend/src/components/notes/NoteListItem.jsx

import { Pin } from 'lucide-react';

const NoteListItem = ({ note, onClick }) => {
  const handlePin = async (e) => {
    e.stopPropagation();
    // TODO: è°ƒç”¨API
    await api.post(`/notes/${note.id}/pin`);
  };

  return (
    <div className="note-item">
      {/* ç°æœ‰ä»£ç ... */}

      <button onClick={handlePin}>
        <Pin className={note.is_pinned ? 'text-blue-600' : 'text-gray-400'} />
      </button>
    </div>
  );
};
```

#### åç«¯éƒ¨åˆ† (30åˆ†é’Ÿ)

**æ­¥éª¤1: æ·»åŠ æ•°æ®åº“å­—æ®µ**
```sql
-- åœ¨Supabase Dashboardæ‰§è¡Œ
ALTER TABLE notes ADD COLUMN is_pinned BOOLEAN DEFAULT FALSE;
ALTER TABLE notes ADD COLUMN pinned_at TIMESTAMPTZ;
```

**æ­¥éª¤2: æ·»åŠ APIç«¯ç‚¹**
```python
# backend/routers/notes_router.py

@router.post("/notes/{note_id}/pin")
async def pin_note(
    note_id: str,
    current_user: User = Depends(get_current_user)
):
    """ç½®é¡¶/å–æ¶ˆç½®é¡¶ç¬”è®°"""
    note = database.get_note_by_id(note_id)

    if note['user_id'] != current_user.id:
        raise HTTPException(403, "æ— æƒé™")

    # åˆ‡æ¢ç½®é¡¶çŠ¶æ€
    database.update_note(note_id,
        is_pinned=not note.get('is_pinned', False),
        pinned_at='now()' if not note.get('is_pinned') else None
    )

    return {"success": True}
```

**æ­¥éª¤3: ä¿®æ”¹æŸ¥è¯¢æ’åº**
```python
# backend/database_supabase.py

def get_notes_by_user(user_id: str):
    result = supabase.table('notes')\
        .select('*')\
        .eq('user_id', user_id)\
        .order('is_pinned', desc=True)\ # ç½®é¡¶çš„åœ¨å‰
        .order('updated_at', desc=True)\
        .execute()
    return result.data
```

**å®Œæˆ!** åˆ·æ–°æµè§ˆå™¨å³å¯æµ‹è¯•ç½®é¡¶åŠŸèƒ½ã€‚

---

## ğŸ”§ å¸¸ç”¨å¼€å‘å‘½ä»¤

### å¯åŠ¨æœåŠ¡
```bash
# åç«¯
cd backend
python3 main.py

# å‰ç«¯
cd frontend
npm run dev
```

### æŸ¥çœ‹æ—¥å¿—
```bash
# åç«¯æ—¥å¿—
tail -f /tmp/backend_startup.log

# å‰ç«¯æ—¥å¿—(åœ¨æµè§ˆå™¨æ§åˆ¶å°æŸ¥çœ‹)
# Chrome: F12 â†’ Console
```

### æ•°æ®åº“æ“ä½œ
```bash
# è¿æ¥æµ‹è¯•
cd backend
python3 test_supabase_connection.py

# æŸ¥çœ‹æ•°æ®
python3 -c "
import database
notes = database.get_notes_by_user('user-id')
print(f'ç¬”è®°æ•°: {len(notes)}')
"
```

### é‡å¯æœåŠ¡
```bash
# é‡å¯åç«¯
lsof -ti:8000 | xargs kill -9
cd backend && python3 main.py &

# å‰ç«¯é€šå¸¸ä¸éœ€è¦é‡å¯(Viteçƒ­æ›´æ–°)
```

---

## ğŸ“Š å¼€å‘ç¯å¢ƒçŠ¶æ€ç›‘æ§

### å¿«é€Ÿæ£€æŸ¥
```bash
# æ£€æŸ¥æœåŠ¡çŠ¶æ€
lsof -i:8000  # åç«¯
lsof -i:5173  # å‰ç«¯

# æ£€æŸ¥æ•°æ®åº“
cd backend
python3 -c "import database; print(database.check_database_health())"
```

### æ€§èƒ½åˆ†æ
```bash
# å‰ç«¯æ„å»ºåˆ†æ
cd frontend
npm run build
# æŸ¥çœ‹ dist/ æ–‡ä»¶å¤§å°

# åç«¯æ€§èƒ½
# è®¿é—® http://localhost:8000/docs
# ä½¿ç”¨APIæµ‹è¯•å·¥å…·æµ‹è¯•å“åº”æ—¶é—´
```

---

## ğŸ› å¸¸è§é—®é¢˜

### Q1: ä¿®æ”¹ä»£ç åæ²¡æœ‰æ•ˆæœï¼Ÿ

**å‰ç«¯**:
- Viteä¼šè‡ªåŠ¨çƒ­æ›´æ–°
- å¦‚æœæ²¡æ›´æ–°ï¼Œè¯•è¯•åˆ·æ–°æµè§ˆå™¨(Cmd+R)
- æ¸…é™¤ç¼“å­˜: Cmd+Shift+R

**åç«¯**:
- éœ€è¦æ‰‹åŠ¨é‡å¯æœåŠ¡
- Ctrl+C åœæ­¢ï¼Œç„¶åé‡æ–°è¿è¡Œ `python3 main.py`

### Q2: å¦‚ä½•è°ƒè¯•ä»£ç ï¼Ÿ

**å‰ç«¯è°ƒè¯•**:
```javascript
// æ·»åŠ console.log
console.log('å½“å‰ç¬”è®°:', note);

// ä½¿ç”¨Chrome DevTools
// F12 â†’ Sources â†’ æ‰“æ–­ç‚¹
```

**åç«¯è°ƒè¯•**:
```python
# æ·»åŠ printè¯­å¥
print(f"ç”¨æˆ·ID: {user.id}")

# æˆ–ä½¿ç”¨Pythonè°ƒè¯•å™¨
import pdb; pdb.set_trace()
```

### Q3: å¦‚ä½•æµ‹è¯•æ–°åŠŸèƒ½ï¼Ÿ

1. **å•å…ƒæµ‹è¯•**: åœ¨æµè§ˆå™¨æ§åˆ¶å°æµ‹è¯•
2. **æ‰‹åŠ¨æµ‹è¯•**: å®é™…æ“ä½œæ–°åŠŸèƒ½
3. **SupabaseéªŒè¯**: åœ¨DashboardæŸ¥çœ‹æ•°æ®å˜åŒ–

---

## ğŸ“š å­¦ä¹ èµ„æº

### å‰ç«¯æŠ€æœ¯æ ˆ
- React 19: https://react.dev/
- Vite 7: https://vitejs.dev/
- Tailwind CSS: https://tailwindcss.com/
- Lucide Icons: https://lucide.dev/

### åç«¯æŠ€æœ¯æ ˆ
- FastAPI: https://fastapi.tiangolo.com/
- Supabase: https://supabase.com/docs
- PostgreSQL: https://www.postgresql.org/docs/

---

## ğŸ‰ å®æˆ˜ç¤ºä¾‹

### æ‚¨å¯ä»¥ç«‹å³å°è¯•çš„5ä¸ªä»»åŠ¡

#### 1. ä¿®æ”¹åº”ç”¨æ ‡é¢˜ (5åˆ†é’Ÿ)
```html
<!-- frontend/index.html -->
<title>æˆ‘çš„AIè®°äº‹æœ¬</title>
```

#### 2. æ›´æ”¹ä¸»é¢˜è‰² (10åˆ†é’Ÿ)
```jsx
// æœç´¢é¡¹ç›®ä¸­çš„ bg-blue-600 æ›¿æ¢ä¸º bg-purple-600
// å®ç°ç´«è‰²ä¸»é¢˜
```

#### 3. æ·»åŠ æ¬¢è¿æ¶ˆæ¯ (15åˆ†é’Ÿ)
```jsx
// frontend/src/pages/MainAppPage.jsx
// åœ¨é¡¶éƒ¨æ·»åŠ æ¬¢è¿æ¨ªå¹…
<div className="bg-green-100 p-4 text-center">
  æ¬¢è¿ä½¿ç”¨AIè®°äº‹æœ¬! å½“å‰ä½¿ç”¨Supabaseæ•°æ®åº“
</div>
```

#### 4. å­—æ•°ç»Ÿè®¡å·²å®Œæˆ âœ…
- å·²ç»ä¸ºæ‚¨æ·»åŠ å¥½äº†
- ä½ç½®: ç¼–è¾‘å™¨ä¸‹æ–¹
- å®æ—¶æ˜¾ç¤ºå­—æ•°ã€å­—ç¬¦æ•°ã€é˜…è¯»æ—¶é—´

#### 5. æ·»åŠ ç¬”è®°å¯¼å‡ºæŒ‰é’® (30åˆ†é’Ÿ)
```jsx
// åœ¨ç¼–è¾‘å™¨å·¥å…·æ æ·»åŠ å¯¼å‡ºæŒ‰é’®
// å¯¼å‡ºä¸ºMarkdownæ ¼å¼
```

---

## ğŸš€ ä¸‹ä¸€æ­¥

### é€‰æ‹©æ‚¨çš„è·¯å¾„

**A. ç»§ç»­å­¦ä¹ **
â†’ æµè§ˆä»£ç ï¼Œç†è§£ç°æœ‰åŠŸèƒ½
â†’ å°è¯•ä¸Šé¢çš„5ä¸ªå°ä»»åŠ¡
â†’ æŸ¥çœ‹ [CLAUDE.md](CLAUDE.md) äº†è§£ä»£ç è§„èŒƒ

**B. å¼€å‘æ–°åŠŸèƒ½**
â†’ ä»æ¨èä»»åŠ¡åˆ—è¡¨ä¸­é€‰ä¸€ä¸ª
â†’ å‚è€ƒç¤ºä¾‹ä»£ç å®ç°
â†’ æµ‹è¯•å¹¶ä¼˜åŒ–

**C. å‡†å¤‡éƒ¨ç½²**
â†’ é˜…è¯» [DEPLOYMENT_SUPABASE.md](DEPLOYMENT_SUPABASE.md)
â†’ é€‰æ‹©éƒ¨ç½²æ–¹æ¡ˆ
â†’ 15åˆ†é’Ÿä¸Šçº¿åˆ°ç”Ÿäº§ç¯å¢ƒ

---

**ğŸŠ æœ¬åœ°å¼€å‘çš„æ ¸å¿ƒä»·å€¼**: å¿«é€Ÿè¿­ä»£ã€å³æ—¶åé¦ˆã€æ— é™å¯èƒ½ï¼

**ç«‹å³ä½“éªŒå­—æ•°ç»Ÿè®¡åŠŸèƒ½**:
1. æ‰“å¼€ http://localhost:5173
2. ç™»å½•å¹¶æ‰“å¼€ä»»æ„ç¬”è®°
3. å¼€å§‹è¾“å…¥ï¼Œçœ‹å­—æ•°å®æ—¶å˜åŒ–ï¼
