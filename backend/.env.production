# 生产环境配置
# 应用配置
APP_NAME=AI智能记事本API
APP_VERSION=2.0.0
APP_ENV=production
DEBUG=false

# 服务器配置
HOST=0.0.0.0
PORT=8000
WORKERS=4
WORKER_CLASS=uvicorn.workers.UvicornWorker
MAX_REQUESTS=1000
MAX_REQUESTS_JITTER=100

# 数据库配置
DATABASE_URL=postgresql://username:password@localhost:5432/ai_notebook_prod
DATABASE_POOL_SIZE=20
DATABASE_MAX_OVERFLOW=30
DATABASE_ECHO=false
DATABASE_POOL_TIMEOUT=30
DATABASE_POOL_RECYCLE=3600

# Redis配置（缓存和会话）
REDIS_URL=redis://localhost:6379/0
REDIS_CACHE_DB=1
REDIS_SESSION_DB=2
REDIS_POOL_SIZE=10

# 安全配置
SECRET_KEY=your-super-secret-key-change-this-in-production
JWT_SECRET_KEY=your-jwt-secret-key-change-this-too
JWT_ALGORITHM=HS256
JWT_EXPIRE_MINUTES=60
REFRESH_TOKEN_EXPIRE_DAYS=30

# CORS配置
CORS_ORIGINS=https://ai-notebook.com,https://www.ai-notebook.com
CORS_ALLOW_CREDENTIALS=true
CORS_ALLOW_METHODS=GET,POST,PUT,DELETE,OPTIONS
CORS_ALLOW_HEADERS=*

# 文件上传配置
MAX_UPLOAD_SIZE=10485760  # 10MB
UPLOAD_PATH=/app/uploads
ALLOWED_EXTENSIONS=jpg,jpeg,png,gif,pdf,doc,docx,txt

# 邮件配置
SMTP_HOST=smtp.gmail.com
SMTP_PORT=587
SMTP_USERNAME=your-email@gmail.com
SMTP_PASSWORD=your-app-password
SMTP_USE_TLS=true
FROM_EMAIL=noreply@ai-notebook.com

# 第三方服务
OPENROUTER_API_URL=https://openrouter.ai/api/v1
OPENROUTER_RATE_LIMIT=60
OPENROUTER_TIMEOUT=30

# 监控和日志
LOG_LEVEL=INFO
LOG_FILE=/app/logs/app.log
LOG_ROTATION=daily
LOG_RETENTION=30

SENTRY_DSN=https://your-sentry-dsn@sentry.io/project
SENTRY_ENVIRONMENT=production
SENTRY_TRACES_SAMPLE_RATE=0.1

# 性能配置
CACHE_TTL=300
RATE_LIMIT_PER_MINUTE=60
SESSION_TIMEOUT=3600
CONNECTION_TIMEOUT=30

# 备份配置
BACKUP_ENABLED=true
BACKUP_SCHEDULE=0 2 * * *  # 每天凌晨2点
BACKUP_RETENTION_DAYS=30
BACKUP_STORAGE_PATH=/app/backups

# SSL配置
SSL_ENABLED=true
SSL_CERT_PATH=/app/ssl/cert.pem
SSL_KEY_PATH=/app/ssl/key.pem

# 健康检查
HEALTH_CHECK_INTERVAL=30
HEALTH_CHECK_TIMEOUT=10
HEALTH_CHECK_RETRIES=3